@charset "UTF-8";

/*# vi: set ai et sts=4 sw=4: #####################**
 +/&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\+
 *|                                                |*
 *|  ============================================= |*
 *|   ____  _       _            ____  _ _         |*
 *|  |  _ \(_)_ __ | | ___   _  / ___|(_) |_ ___   |*
 *|  | | | | | '_ \| |/ / | | | \___ \| | __/ _ \  |*
 *|  | |_| | | | | |   <| |_| |  ___) | | ||  __/  |*
 *|  |____/|_|_| |_|_|\_\\__, | |____/|_|\__\___|  |*
 *|                      |___/                     |*
 *|  ==================         ================== |*
 *|                                                |*
 *\################################################/*/

:root {
    color-scheme: light dark;
}

* {
    box-sizing: border-box;
    /* This may be a little perverse... */
    max-width: 100%;
}

/*
 * IBM fonts are from VileR's collection:
 * LICENSE: CC BY-SA 4.0
 *    <https://int10h.org/oldschool-pc-fonts/download/>
 *    <https://int10h.org/oldschool-pc-fonts/readme/#legal_stuff>
 *
 * Tamsyn is a font made by Scott Fial.
 * Converted from pcf to bdf with pcf2bdf:
 *    <https://github.com/ganaware/pcf2bdf>
 * then from bdf to ttf using bdf2tty.py:
 *    <https://github.com/keidax/bdf2ttf.py>
 * then from ttf to woff using google/woff2:
 *    <https://github.com/google/woff2>
 * LICENSE: Tamsyn is free (... public domain?)
 *    <https://web.archive.org/web/20240204121508/http://www.fial.com/~scott/tamsyn-font/download/tamsyn-font-1.11.tar.gz>
 */
@font-face {
    font-family: "Tamsyn8x15";
    src: url("Tamsyn8x15r.woff2") format("woff2");
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: "Tamsyn8x15";
    src: url("Tamsyn8x15b.woff2") format("woff2");
    font-weight: 700;
    font-style: normal;
}

@font-face {
    font-family: "IBM VGA 9x8";
    src: url("Web437_IBM_VGA_9x8.woff") format("woff");
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: "IBM VGA 8x14";
    src: url("Web437_IBM_VGA_8x14.woff") format("woff");
    font-weight: 400;
    font-style: normal;
}

body, pre, code {
    font-family: "Tamsyn8x15",
        "IBM VGA 8x14",  /* Fallback for &bull; */
        "Terminus", "Nimbus Mono", "Fixedsys", "Courier New", "Courier", monospace;
}

/* The default underscore width looks too thick */
body a, pre a, code a {
    text-decoration: underline;
    text-decoration-thickness: 0.7pt;
}

/* Code is inline -- we cannot add margin to it!!! */
body { margin: 1em; }
pre { margin: 1em 0; }

p,  {
    line-height: 1.2;
}

.navbar {

    .crumb a:visited {
        color: inherit;
    }

    .crumb.active a {
        color: inherit;
        text-decoration: none;  /* NO underscore */
        cursor: default;
        pointer-events: none;
    }
}

main {
    margin: 0 auto;
    width: 76ch;
}

main.wide {
    width: 132ch;
}

.epigram pre {
    background-color: #333;
    /* I actually want to make it so that the padding
     * doesn't turn this pre-chunk into horizontal
     * scroll thingy, but that means doing something
     * with responsive, which means (somehow) figuring
     * out the Bootstrap thresholds for lg/md/sm ...
     * and I'm no Ethan Marcotte. so uhh..... :x */
    padding: 1.2em 1.5em;
    /* Counter-act _reboot.scss */
    font-size: 0.6rem; /* smaller! */
    /* A square-ish font is better for ASCII art
     * (speaking of "art", i didn't really make this
     * one... i just let <asciiart.eu/text-to-ascii-art>
     * generate it for me... lol (plz don't sue me)) */
    font-family: "IBM VGA 9x8", "Fixedsys", "Courier New", "Courier", monospace;
}

figure {
    /* Counter-act _reboot.scss again */
    margin: 2em 0;

    img {
        display: block;
        height: auto;
        /* Without height:auto, the following would be
         * necessary (though that fits, not shrinks)
         *
         * anyway uh WE NEED HEIGHT AUTO VERY BADLY!!! */
        /* object-fit: contain; */
        margin: 1em auto;
        image-rendering: pixelated;
    }

    img.dinky {
        width: 12rem;
    }

    figcaption {
        text-align: center;
        width: 40ch;
        /* Okay, I may be a hypocrite -- BUT... */
        /* (actually I'm fine; i was looking at margin
         * collapse, but now i realize they don't look
         * so good so close together now that the navbar
         * is moved to the top. */
        margin: 1em auto;
    }
}

.rule {
    text-align: center;
}

/*==========+
 * GPT.html
 *==========*/

a.linklink:before { content: "<"; }
a.linklink:after { content: ">"; }

/* I'm stingy */
ul {
    list-style: none;
    li {
        padding-left: -2ex;
        text-indent: -2ex;
    }

    li:before {
        content: "â€¢ ";
    }
}

p.tagline {  /* GNU Lilypond calls it so :v */
    /*font-weight: bold;*/ /* Not good. */

    margin-bottom: 0;

    /* <em> exists purely for Lynx; no style implications for GUI browsers. */
    em {
        font-style: inherit;
    }
}

/* Hack to contain the margins??? */
blockquote.flathead {
    margin-top: 0;
    p { margin-top: 0; }

    pre {
        background-color: #ccc; /* approx. rgba AAAAAAAA */
        overflow-x: scroll;
        padding: 1em;
    }

    table {
        /* Match the margin of <p>'s, which is 1em */
        /* https://stackoverflow.com/a/819190/19411800 */
        margin: 1em 0;

        /* Magic :] <https://stackoverflow.com/a/59999352/19411800> */
        border-collapse: collapse;

        thead th {
            border-bottom: solid 1px currentColor;
        }

        /* Margin makes no sense on inline table elements
         * (so basically no margin collapse... shucks ;.;) */
        th, td {
            padding: 0 0.5em;
        }
    }
}

/*=============+
 * Color scheme
 *=============*/
/* @media (prefers-color-scheme: light) { */
    html, body {
        background-color: #fff;
        color: #111;
    }

    p.tagline {
        /* Bootstrap "info" */
        /*color: rgb(13, 202, 240);*/
        /* (This doesn't pass WCAG AA standards for accessible text lmfao */
        color: #c00;  /* My turn! >:p */
        font-weight: bold;
    }
/* } */

@media (prefers-color-scheme: dark) {
    html, body {
        background-color: #222;
        color: #bbb;
    }

    b, strong, th, h1, h2, h3 {
        color: #fff;
        font-weight: normal;
    }

    a { color: #fc0; }
    a:visited { color: #f60; }

    p.tagline {
        color: #0aa;  /* setaf 6 */
        font-weight: normal;
    }

    blockquote.flathead pre {
        background-color: #000;
    }

    blockquote.flathead table thead th {
        border-bottom-color: #fff;
    }
}
